# Task 1.2: Add Face Extent Helpers to `NodeBounds`

## Objective

Add methods to `NodeBounds` that return the usable range along a face for edge attachment, and the fixed coordinate (row or column) of a face.

## Location

Modify: `src/render/shape.rs`

## Implementation

Add import at the top of `shape.rs`:

```rust
use super::intersect::NodeFace;
```

Add to the `impl NodeBounds` block:

```rust
/// Returns the usable range (start, end) along a face for edge attachment.
/// For Top/Bottom: x-range excluding corner cells (border characters).
/// For Left/Right: y-range (full height).
pub fn face_extent(&self, face: &NodeFace) -> (usize, usize) {
    match face {
        NodeFace::Top | NodeFace::Bottom => {
            // Exclude corner columns (first and last chars are corner/bracket chars)
            let start = self.x + 1;
            let end = (self.x + self.width).saturating_sub(2);
            (start, end.max(start))
        }
        NodeFace::Left | NodeFace::Right => {
            (self.y, self.y + self.height.saturating_sub(1))
        }
    }
}

/// Returns the fixed coordinate for a face.
/// Top/Bottom: the y-coordinate of that edge. Left/Right: the x-coordinate.
pub fn face_fixed_coord(&self, face: &NodeFace) -> usize {
    match face {
        NodeFace::Top => self.y,
        NodeFace::Bottom => self.y + self.height.saturating_sub(1),
        NodeFace::Left => self.x,
        NodeFace::Right => self.x + self.width.saturating_sub(1),
    }
}
```

## Context

- `face_extent` excludes corner columns for Top/Bottom because the first and last characters of a node's top/bottom row are border characters (`┌`, `┐`, `└`, `┘` or similar). Arrows should attach within the inner portion.
- For Left/Right faces, the full height range is usable since the border runs vertically along the face.
- The `end.max(start)` guard handles extremely narrow nodes (width ≤ 2) where the usable extent would be empty.
- `NodeBounds` has fields: `x`, `y`, `width`, `height` plus `center_x()` and `center_y()` methods.
- This import creates a dependency from `shape.rs` → `intersect.rs`. Check that this doesn't create a circular dependency (it shouldn't — `intersect.rs` imports from `shape.rs` but `NodeFace` is a standalone enum).

## Acceptance Criteria

- [ ] `face_extent()` returns correct x-range for Top/Bottom, y-range for Left/Right
- [ ] Corner columns excluded for Top/Bottom (x+1 to x+width-2)
- [ ] `face_fixed_coord()` returns correct y for Top/Bottom, x for Left/Right
- [ ] No panic on narrow nodes (width=1, width=2)
- [ ] Unit tests for a 10-wide, 3-tall node at position (5, 10)
