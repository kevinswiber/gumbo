# Task 4.1: Test Zero-Gap Overlap Fixtures

## Objective

Add integration tests verifying that the three zero-gap overlap fixtures no longer have adjacent arrows on the same row.

## Location

Modify: `tests/integration.rs`

## Implementation

```rust
/// Verify that no row has immediately adjacent down-arrows (▼▼).
fn assert_no_adjacent_arrows(output: &str, fixture_name: &str) {
    for (line_num, line) in output.lines().enumerate() {
        assert!(
            !line.contains("▼▼"),
            "{}: line {} has adjacent arrows: {}",
            fixture_name, line_num + 1, line
        );
    }
}

#[test]
fn double_skip_no_overlap() {
    let output = render_fixture("double_skip.mmd");
    assert_no_adjacent_arrows(&output, "double_skip.mmd");
}

#[test]
fn stacked_fan_in_no_overlap() {
    let output = render_fixture("stacked_fan_in.mmd");
    assert_no_adjacent_arrows(&output, "stacked_fan_in.mmd");
}

#[test]
fn narrow_fan_in_no_overlap() {
    let output = render_fixture("narrow_fan_in.mmd");
    assert_no_adjacent_arrows(&output, "narrow_fan_in.mmd");
}
```

## Context

- Check how existing integration tests render fixtures. There should be a helper like `render_fixture()` or similar that loads a `.mmd` file and returns the rendered string.
- The `▼▼` check catches the exact symptom: two down-arrows in adjacent columns with no space between them.
- For `narrow_fan_in.mmd`, there's also a `┼` path crossing issue mentioned in the research. The test focuses only on arrow overlap, not path crossing.
- If using ASCII mode (`--ascii`), the arrow character is `v` instead of `▼`. Check which mode the integration tests use and adjust the assertion accordingly.

## Acceptance Criteria

- [ ] Tests for `double_skip.mmd`, `stacked_fan_in.mmd`, `narrow_fan_in.mmd`
- [ ] Each test verifies no `▼▼` (or `vv` in ASCII mode) exists in the output
- [ ] All three tests pass after the spreading implementation
