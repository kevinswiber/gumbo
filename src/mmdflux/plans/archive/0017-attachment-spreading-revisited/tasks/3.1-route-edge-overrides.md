# Task 3.1: Modify `route_edge()` to Accept Attachment Overrides

## Objective

Add optional source and target attachment point parameters to `route_edge()` and its internal routing functions, allowing the pre-computed attachment plan to bypass `intersect_rect()`.

## Location

Modify: `src/render/router.rs`

## Implementation

Change `route_edge()` signature:

```rust
pub fn route_edge(
    edge: &Edge,
    layout: &Layout,
    diagram_direction: Direction,
    src_attach_override: Option<(usize, usize)>,
    tgt_attach_override: Option<(usize, usize)>,
) -> Option<RoutedEdge> {
    // ... existing code ...
    // Pass overrides through to internal routing functions
}
```

In the internal routing logic (wherever `calculate_attachment_points()` is called), replace with override-aware logic:

```rust
let (src_attach, tgt_attach) = match (src_attach_override, tgt_attach_override) {
    (Some(src), Some(tgt)) => (src, tgt),
    (Some(src), None) => {
        let (_, tgt) = calculate_attachment_points(
            from_bounds, from_shape, to_bounds, to_shape, waypoints,
        );
        (src, tgt)
    }
    (None, Some(tgt)) => {
        let (src, _) = calculate_attachment_points(
            from_bounds, from_shape, to_bounds, to_shape, waypoints,
        );
        (src, tgt)
    }
    (None, None) => calculate_attachment_points(
        from_bounds, from_shape, to_bounds, to_shape, waypoints,
    ),
};
```

## Context

- Check the exact internal structure of `route_edge()`. It may dispatch to `route_edge_direct()`, `route_edge_with_waypoints()`, or `route_backward_edge()`. Each variant that calls `calculate_attachment_points()` needs the override logic.
- When an override is provided, the point is already on the node boundary (computed by `spread_points_on_face()`), so subsequent `clamp_to_boundary()` calls should be no-ops.
- **Backward edges:** `route_backward_edge()` (or `route_edge()` for reversed edges) may also receive overrides. Since backward edges don't currently have overlap issues, the override will be `None` for them in practice, but the API should support it for completeness.
- **Existing callers:** Any direct callers of `route_edge()` in tests or elsewhere need to be updated to pass `(None, None)` for the new parameters.

## Acceptance Criteria

- [ ] `route_edge()` accepts `src_attach_override: Option<(usize, usize)>` and `tgt_attach_override: Option<(usize, usize)>`
- [ ] When both overrides are `Some`, `calculate_attachment_points()` is not called
- [ ] When one override is `Some`, the other is computed normally
- [ ] When both are `None`, behavior is identical to current implementation
- [ ] All existing callers updated to pass `None, None`
- [ ] `cargo test` passes with no behavioral changes (all overrides are None at this point)
