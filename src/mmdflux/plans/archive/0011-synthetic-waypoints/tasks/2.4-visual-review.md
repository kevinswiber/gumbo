# Task 2.4: Visual review of all fixtures

## Objective

Systematically review all test fixtures to ensure the synthetic waypoint implementation produces visually correct output.

## Review Checklist

For each fixture, check:

1. **Node rendering** - All nodes visible with correct shapes
2. **Edge routing** - Edges connect correct nodes
3. **Labels** - Edge labels positioned correctly
4. **Arrows** - Arrow heads point in correct direction
5. **No overlaps** - Edges don't pass through nodes (except at connection points)
6. **Visual clarity** - Large-offset edges route cleanly

## Fixtures to Review

### Core Fixtures

| Fixture | Focus Areas |
|---------|-------------|
| `simple.mmd` | Basic two-node diagram |
| `chain.mmd` | Linear chain of nodes |
| `decision.mmd` | Diamond decision nodes, branching |
| `complex.mmd` | **Primary test case** - E→F edge |
| `shapes.mmd` | All node shape types |

### Edge Style Fixtures

| Fixture | Focus Areas |
|---------|-------------|
| `labeled_edges.mmd` | Edge labels on various paths |
| `edge_styles.mmd` | Solid, dotted, thick strokes |

### Direction Fixtures

| Fixture | Focus Areas |
|---------|-------------|
| `left_right.mmd` | LR direction (Phase 3) |
| `right_left.mmd` | RL direction (Phase 3) |
| `bottom_top.mmd` | BT direction |

### Cycle Fixtures

| Fixture | Focus Areas |
|---------|-------------|
| `simple_cycle.mmd` | Backward edge routing |
| `multiple_cycles.mmd` | Multiple backward edges |

## Review Script

```bash
#!/bin/bash
# Save as review_fixtures.sh

for fixture in tests/fixtures/*.mmd; do
    clear
    echo "============================================"
    echo "Fixture: $fixture"
    echo "============================================"
    echo
    cargo run -q -- "$fixture"
    echo
    echo "Press Enter for next fixture, or 'q' to quit"
    read -n 1 key
    if [[ $key == "q" ]]; then
        exit
    fi
done
```

## Detailed Review Notes Template

### complex.mmd

**Before implementation:**
- [ ] E→F "no" edge goes through middle (problematic)

**After implementation:**
- [ ] E→F "no" edge stays on right side
- [ ] All other edges unchanged
- [ ] Backward edge ("yes") still uses corridor
- [ ] All labels visible

**Screenshot/notes:**
```
(paste relevant portion of output here)
```

### decision.mmd

**Observations:**
- [ ] Diamond nodes render correctly
- [ ] Decision branches route cleanly
- [ ] Labels on branching edges visible

### labeled_edges.mmd

**Observations:**
- [ ] Labels don't overlap edges
- [ ] Labels positioned at reasonable points along edges
- [ ] Multi-word labels render correctly

## Edge Cases to Watch

1. **Very wide diagrams** - Source and target at extreme positions
2. **Very tall diagrams** - Many layers between source and target
3. **Dense diagrams** - Many nodes, many edges
4. **Mixed directions** - Some edges left-to-right, some right-to-left

## Known Limitations (Document, Don't Fix)

- Center-source edges with large offset use default routing (by design)
- LR/RL layouts not handled until Phase 3
- Very short vertical distances may not have room for waypoint

## Acceptance Criteria

- [ ] All fixtures reviewed
- [ ] No visual regressions identified
- [ ] Improvements documented
- [ ] Any issues filed as follow-up tasks
- [ ] Review notes saved for reference
