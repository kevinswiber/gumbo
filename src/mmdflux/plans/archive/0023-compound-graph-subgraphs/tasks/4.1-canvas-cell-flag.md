# Task 4.1: Add is_subgraph_border Flag to Canvas Cell

## Objective

Add `is_subgraph_border: bool` to `Cell` in the Canvas, allowing subgraph border cells to be overwritten by nodes and edges.

## Location

Modify: `src/render/canvas.rs`

## TDD Phases

### Red: Write Failing Tests

```rust
#[test]
fn test_cell_subgraph_border_default_false() {
    let cell = Cell::empty();
    assert!(!cell.is_subgraph_border);
}

#[test]
fn test_cell_subgraph_border_overwritable() {
    let mut canvas = Canvas::new(10, 5);
    canvas.set_char_with_flag(3, 2, '─', true); // is_subgraph_border = true
    assert_eq!(canvas.get(3, 2).ch, '─');
    assert!(canvas.get(3, 2).is_subgraph_border);

    // Node rendering should be able to overwrite border cells
    canvas.set_char(3, 2, '┌'); // node character overwrites
    assert_eq!(canvas.get(3, 2).ch, '┌');
}
```

**What the failing test asserts:** Cell has `is_subgraph_border` flag; border cells can be overwritten.
**Expected failure reason:** `is_subgraph_border` field doesn't exist on Cell.

### Green: Minimal Implementation

Add to `Cell`:
```rust
pub is_subgraph_border: bool,
```

Update `Cell::empty()` and any constructors to set `is_subgraph_border: false`.

### Refactor: Clean Up

- Verify no existing code is affected by the new field
- Consider whether `set_char` should check `is_subgraph_border` before overwriting (it should always allow overwrite)

## Context

- Canvas cells currently have `ch`, `connections`, `is_node`, `is_edge` flags
- `is_node` protects cells from edge overwrite; `is_subgraph_border` should NOT protect cells
- Subgraph borders render first; nodes and edges render on top

## Acceptance Criteria

- [ ] Failing test written and confirmed red
- [ ] `is_subgraph_border` field added to Cell
- [ ] Default is false
- [ ] Border cells can be overwritten by node/edge rendering
- [ ] All existing canvas tests pass
