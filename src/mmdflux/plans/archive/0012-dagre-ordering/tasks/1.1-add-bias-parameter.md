# Task 1.1: Add `bias_right` Parameter

## Objective
Add a `bias_right: bool` parameter to the barycenter sorting that controls tie-breaking direction, threading it through `sweep_down()`, `sweep_up()`, and `reorder_layer()`.

## Location
Modify: `src/dagre/order.rs`

## Implementation

### 1. Update `reorder_layer()` signature and sort logic

Add `bias_right: bool` as the sixth parameter. Change the tie-breaking logic:

```rust
fn reorder_layer(
    graph: &mut LayoutGraph,
    fixed: &[usize],
    free: &[usize],
    edges: &[(usize, usize)],
    downward: bool,
    bias_right: bool,
) {
    // ... barycenter calculation unchanged ...

    // Sort by barycenter with bias-aware tie-breaking
    barycenters.sort_by(|a, b| {
        a.1.partial_cmp(&b.1)
            .unwrap_or(std::cmp::Ordering::Equal)
            .then_with(|| {
                if bias_right {
                    b.2.cmp(&a.2) // Prefer larger original_pos (right bias)
                } else {
                    a.2.cmp(&b.2) // Prefer smaller original_pos (left bias)
                }
            })
    });

    // ... order update unchanged ...
}
```

### 2. Update `sweep_down()` signature

```rust
fn sweep_down(graph: &mut LayoutGraph, layers: &[Vec<usize>], edges: &[(usize, usize)], bias_right: bool) {
    for i in 1..layers.len() {
        let fixed = &layers[i - 1];
        let free = &layers[i];
        reorder_layer(graph, fixed, free, edges, true, bias_right);
    }
}
```

### 3. Update `sweep_up()` signature

```rust
fn sweep_up(graph: &mut LayoutGraph, layers: &[Vec<usize>], edges: &[(usize, usize)], bias_right: bool) {
    for i in (0..layers.len() - 1).rev() {
        let fixed = &layers[i + 1];
        let free = &layers[i];
        reorder_layer(graph, fixed, free, edges, false, bias_right);
    }
}
```

### 4. Update `run()` call sites (temporary)

Pass `false` to preserve existing behavior until Phase 3 replaces `run()`:

```rust
sweep_down(graph, &layers, &edges, false);
sweep_up(graph, &layers, &edges, false);
```

## Context

This matches Dagre's `compareWithBias()` in `lib/order/sort.js`:
```javascript
return !bias ? entryV.i - entryW.i : entryW.i - entryV.i;
```

When `bias_right = false`: `a.2.cmp(&b.2)` preserves original order (left bias).
When `bias_right = true`: `b.2.cmp(&a.2)` reverses original order (right bias).

## Acceptance Criteria
- [ ] `reorder_layer()` accepts `bias_right: bool` and uses it for tie-breaking
- [ ] `sweep_down()` and `sweep_up()` accept and pass through `bias_right`
- [ ] `run()` passes `false` to both sweeps (preserving current behavior)
- [ ] All existing tests pass unchanged
- [ ] `cargo clippy` clean
