# Task 6.2: Pie/Info/Packet Compliance Tests

## Objective

Translate upstream test cases for pie, info, and packet diagrams into Rust integration tests to verify parser compliance.

## Location

Create: `tests/compliance_pie.rs`
Create: `tests/compliance_info.rs`
Create: `tests/compliance_packet.rs`
Sources:
- `~/src/mermaid/packages/mermaid/src/diagrams/pie/pie.spec.ts`
- `~/src/mermaid/packages/mermaid/src/diagrams/info/info.spec.ts`
- `~/src/mermaid/packages/parser/test/` (Langium parser tests)

## TDD Phases

### Red: Write Failing Tests

**Pie tests (from `pie.spec.ts`):**
- Single section, multiple sections
- showData flag
- Title
- Comments
- Float values
- Single-quoted labels
- Edge cases (empty sections, very long labels)

**Info tests:**
- Minimal `info` input
- `showInfo` flag
- Title
- Invalid inputs rejected

**Packet tests:**
- Range blocks (`0-7: "Header"`)
- Single-bit blocks (`0: "Flag"`)
- Relative blocks (`+8: "Data"`)
- Multiple blocks
- Both `packet` and `packet-beta` keywords
- Title

### Green: Minimal Implementation

No production code â€” tests only. These should pass once Tasks 4.1-4.3 are complete.

### Refactor: Clean Up

- Organize by diagram type
- Link tests to upstream source files

## Context

Pie has the most comprehensive upstream test suite of the three. Info and packet have minimal tests since they're simple diagrams.

## Acceptance Criteria

- [ ] Tests translated from upstream spec files for all three diagram types
- [ ] All tests pass against implemented parsers
- [ ] Edge cases covered (empty input, malformed input, boundary values)
