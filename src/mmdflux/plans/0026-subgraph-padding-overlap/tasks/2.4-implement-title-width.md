# Task 2.4: Enforce Title Width Minimum in Bounds Computation

## Objective
After computing subgraph bounds (from dagre or fallback), ensure the border is wide enough to display the full embedded title.

## Location
Modify: `/Users/kevin/src/mmdflux-subgraphs/src/render/layout.rs` â€” `convert_subgraph_bounds()`

## TDD Phases

### ğŸ”´ Red: Write Failing Tests

Tests from Task 2.3 should already be failing.

### ğŸŸ¢ Green: Minimal Implementation

In `convert_subgraph_bounds()`, after computing the dagre-derived (or fallback) bounds, add title width enforcement:

```rust
// Ensure border is wide enough for embedded title: â”Œâ”€ Title â”€â”
// Overhead: 2 corners + "â”€ " prefix (2) + " â”€" suffix (2) = 6
let min_title_width = sg.title.len() + 6;
if width < min_title_width {
    let expand = min_title_width - width;
    // Expand symmetrically: half left, half right
    border_x = border_x.saturating_sub(expand / 2);
    width = min_title_width;
}
```

### ğŸ”µ Refactor: Clean Up

- Remove `title_height` constant since the title is now embedded (no extra row needed)
- Remove `title_height` from the `border_y` calculation in the fallback path
- Verify that the `SubgraphBounds` struct doesn't need any new fields

## Context
- The embedded title format `â”Œâ”€ Title â”€â”` needs 6 chars overhead beyond the title text
- Expansion should be symmetric to keep the title visually centered
- See [Q1: Bounds calculation](../../../research/0019-subgraph-padding-overlap/q1-bounds-calculation.md) for the current hardcoded padding

## Acceptance Criteria
- [ ] Title width enforcement added after bounds computation
- [ ] `title_height` removed from bounds computation
- [ ] Symmetric expansion for wide titles
- [ ] Task 2.3 test passes
- [ ] Existing tests updated for no-title-row change
