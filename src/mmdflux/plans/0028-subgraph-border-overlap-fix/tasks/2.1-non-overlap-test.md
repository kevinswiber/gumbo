# Task 2.1: Test non-overlapping dagre bounds

## Objective
Write a test that verifies dagre bounds for two stacked subgraphs (the `subgraph_edges.mmd` scenario) do not overlap after transformation.

## Location
Modify: `src/render/layout.rs` â€” add unit test

## TDD Phases

### ðŸ”´ Red: Write Failing Tests

```rust
#[test]
fn test_stacked_subgraphs_do_not_overlap() {
    let input = "graph TD\n\
        subgraph sg1[Input]\nA[Data]\nB[Config]\nend\n\
        subgraph sg2[Output]\nC[Result]\nD[Log]\nend\n\
        A --> C\nB --> D";
    // Parse, build, layout
    // Get converted subgraph bounds for sg1 and sg2
    // Assert: sg1.bottom < sg2.top (no vertical overlap)
    // Assert: no horizontal overlap if they shouldn't overlap horizontally
}
```

**What the failing test asserts:** sg1's bottom border row is strictly above sg2's top border row.
**Expected failure reason:** The current member-node approach produces overlapping bounds because it has no inter-subgraph awareness.

### ðŸŸ¢ Green: Minimal Implementation

This test should fail with the current code and pass after Task 2.2 implements dagre bounds as primary source.

### ðŸ”µ Refactor: Clean Up

- Extract helper for "parse â†’ build â†’ layout â†’ get subgraph bounds" if reused across tests

## Acceptance Criteria
- [ ] Test written and confirmed to fail with current member-node approach
- [ ] Documents the overlap scenario from Issue 0005
