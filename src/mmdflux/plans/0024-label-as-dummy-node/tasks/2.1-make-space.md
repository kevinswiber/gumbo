# Task 2.1: Implement `make_space_for_edge_labels()`

## Objective
Create a function that sets `minlen=2` for labeled edges, ensuring the ranker creates a gap where a label dummy node can be inserted.

## Location
New function in: `src/dagre/mod.rs` (or new file `src/dagre/edge_labels.rs` if cleaner)

## TDD Phases

### ðŸ”´ Red: Write Failing Tests

```rust
#[test]
fn test_make_space_sets_minlen_for_labeled_edges() {
    let mut g = DiGraph::new();
    let a = g.add_node("A", 5.0, 3.0);
    let b = g.add_node("B", 5.0, 3.0);
    let c = g.add_node("C", 5.0, 3.0);
    g.add_edge(a, b); // edge 0: labeled
    g.add_edge(b, c); // edge 1: unlabeled

    let mut lg = LayoutGraph::from_digraph(&g, &LayoutConfig::default());

    let mut edge_labels = HashMap::new();
    edge_labels.insert(0, EdgeLabelInfo::new(5.0, 1.0)); // edge 0 has a label

    make_space_for_edge_labels(&mut lg, &edge_labels);

    assert_eq!(lg.edge_minlens[0], 2); // labeled edge gets minlen=2
    assert_eq!(lg.edge_minlens[1], 1); // unlabeled edge stays at 1
}
```

**What the failing test asserts:** `make_space_for_edge_labels` sets minlen=2 for labeled edges only.
**Expected failure reason:** Function does not exist.

### ðŸŸ¢ Green: Minimal Implementation

```rust
pub fn make_space_for_edge_labels(
    lg: &mut LayoutGraph,
    edge_labels: &HashMap<usize, EdgeLabelInfo>,
) {
    for &edge_idx in edge_labels.keys() {
        if edge_idx < lg.edge_minlens.len() {
            lg.edge_minlens[edge_idx] = 2;
        }
    }
}
```

### ðŸ”µ Refactor: Clean Up

- Consider whether the function should also store label width/height on the graph for later use by normalization
- Ensure edge_labels keys match the edge indices in LayoutGraph

## Context
- `EdgeLabelInfo` already exists in `src/dagre/normalize.rs`
- The `edge_labels` HashMap is already constructed in `compute_layout_direct()` in `src/render/layout.rs`
- This function runs BEFORE ranking, so it only sets minlen â€” the actual label dummy creation happens in normalization

## Acceptance Criteria
- [ ] Failing test written and confirmed red
- [ ] Function implemented and test passes
- [ ] Only labeled edges get minlen=2
